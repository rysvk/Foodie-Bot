version: "2.0"

stories:
  - story: complete path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: search_restaurant
      - action: restaurant_form
      - active_loop: restaurant_form
      - action: action_search_restaurants
      - action: utter_ask_notify
      - slot_was_set:
          - notify: True
      - intent: query_email
      - action: utter_ask_email
      - slot_was_set:
          - email: example@email.com
      - action: action_send_mail
      - action: utter_confirm_mail

  - story: complete no email path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: search_restaurant
      - action: restaurant_form
      - active_loop: restaurant_form
      - action: action_search_restaurants
      - action: utter_ask_notify
      - slot_was_set:
          - notify: False
      - action: utter_goodbye
