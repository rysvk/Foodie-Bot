version: "2.0"

intents:
  - greet
  - search_restaurant
  - affirm
  - deny
  - query_email
  - goodbye
  - stop

entities:
  - cuisine
  - location
  - budget
  - email
  - notify

slots:
  cuisine:
    type: text
  location:
    type: text
  budget:
    type: categorical
    values:
      - low
      - mid
      - high
  email:
    type: text
  notify:
    type: bool

responses:
  utter_greet:
    - text: Hey there! How may I help find a restaurant you ?

  utter_ask_restaurant_form_cuisine:
    - text: What kind of cuisine would you like?
      buttons:
        - title: Chinese
          payload: Chinese
        - title: Mexican
          payload: Mexican
        - title: Italian
          payload: Italian
        - title: American
          payload: American
        - title: South Indian
          payload: South Indian
        - title: North Indian
          payload: North Indian

  utter_ask_restaurant_form_location:
    - text: In what location?

  utter_ask_restaurant_form_budget:
    - text: What's the average budget for two people?
      buttons:
        - title: Less than Rs.300
          payload: low
        - title: Between Rs.300 and Rs.700
          payload: mid
        - title: More than Rs.700
          payload: high

  utter_ask_notify:
    - text: Should I send you details of all the restaurants on email also?
      buttons:
        - title: "Yes"
          payload: "Yes"
        - title: "No"
          payload: "No"

  utter_ask_email:
    - text: What is your email address?

  utter_confirm_mail:
    - text: Sent. Bon Appetit!

  utter_goodbye:
    - text: Good bye, Bon Appetit!
    - text: Okay, Bon Appetit!

  utter_default:
    - text: Sorry I could not understand that.

  utter_no_service:
    - text: Sorry, we are not yet available in {location}

actions:
  - action_search_restaurants
  - action_send_mail

forms:
  restaurant_form:
    cuisine:
      - type: from_entity
        entity: cuisine
    location:
      - type: from_entity
        entity: location
    budget:
      - type: from_entity
        entity: budget

session_config:
  session_expiration_time: 60 # value in minutes
  carry_over_slots_to_new_session: true
